!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.matheval=t():e.matheval=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function r(){if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var e=new o(new i,new s),t=new c(e),n=t;return n}var o=n(1),i=n(5),s=n(11),c=n(12),u=r();"undefined"!=typeof window&&(window.matheval=u),e.exports=u},function(e,t,n){function r(e,t){this.operatorFactory=e,this.operandFactory=t}var o=(n(2),n(4));r.prototype.parse=function(e){function t(e){return/[.0-9]/.test(e)?"numeric":"("===e?"leftParen":")"===e?"rightParen":"operator"}var n,r,i,s,c,u,f=[],a=[],p=[],h=10,l=0;for(c=0;c<e.length;c++)n=e[c],/[0-9]/g.test(n)||"."===n?p.push(n):(p.length>0&&(f.push(p.join("")),p=[]),/\S/.test(n)&&f.push(n));for(p.length>0&&f.push(p.join("")),u=0;u<f.length;u++){switch(r=f[u],i=t(r)){case"numeric":var v=parseFloat(new o(r));a.push(this.operandFactory.create(v));break;case"leftParen":l+=h;break;case"rightParen":l-=h;break;default:a.push(this.operatorFactory.create(r,l))}s=i}if(l>0)throw new SyntaxError("Too many open parentheses");if(0>l)throw new SyntaxError("Too many closed parentheses");return a},e.exports=r},function(e,t,n){function r(e){this.value=e}var o=n(3);r.prototype=new o,e.exports=r},function(e,t){function n(){}e.exports=n},function(e,t,n){var r;!function(o){"use strict";function i(){function e(t){var n=this;return n instanceof e?(t instanceof e?(n.s=t.s,n.e=t.e,n.c=t.c.slice()):c(n,t),void(n.constructor=e)):void 0===t?i():new e(t)}return e.prototype=g,e.DP=p,e.RM=h,e.E_NEG=w,e.E_POS=d,e}function s(e,t,n){var r=e.constructor,o=t-(e=new r(e)).e,i=e.c;for(i.length>++t&&u(e,o,r.RM),i[0]?n?o=t:(i=e.c,o=e.e+o+1):++o;i.length<o;i.push(0));return o=e.e,1===n||n&&(o>=t||o<=r.E_NEG)?(e.s<0&&i[0]?"-":"")+(i.length>1?i[0]+"."+i.join("").slice(1):i[0])+(0>o?"e":"e+")+o:e.toString()}function c(e,t){var n,r,o;for(0===t&&0>1/t?t="-0":m.test(t+="")||f(NaN),e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(0>n&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):0>n&&(n=t.length),r=0;"0"==t.charAt(r);r++);if(r==(o=t.length))e.c=[e.e=0];else{for(;"0"==t.charAt(--o););for(e.e=n-r-1,e.c=[],n=0;o>=r;e.c[n++]=+t.charAt(r++));}return e}function u(e,t,n,r){var o,i=e.c,s=e.e+t+1;if(1===n?r=i[s]>=5:2===n?r=i[s]>5||5==i[s]&&(r||0>s||i[s+1]!==o||1&i[s-1]):3===n?r=r||i[s]!==o||0>s:(r=!1,0!==n&&f("!Big.RM!")),1>s||!i[0])r?(e.e=-t,e.c=[1]):e.c=[e.e=0];else{if(i.length=s--,r)for(;++i[s]>9;)i[s]=0,s--||(++e.e,i.unshift(1));for(s=i.length;!i[--s];i.pop());}return e}function f(e){var t=new Error(e);throw t.name="BigError",t}var a,p=20,h=1,l=1e6,v=1e6,w=-7,d=21,g={},m=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;g.abs=function(){var e=new this.constructor(this);return e.s=1,e},g.cmp=function(e){var t,n=this,r=n.c,o=(e=new n.constructor(e)).c,i=n.s,s=e.s,c=n.e,u=e.e;if(!r[0]||!o[0])return r[0]?i:o[0]?-s:0;if(i!=s)return i;if(t=0>i,c!=u)return c>u^t?1:-1;for(i=-1,s=(c=r.length)<(u=o.length)?c:u;++i<s;)if(r[i]!=o[i])return r[i]>o[i]^t?1:-1;return c==u?0:c>u^t?1:-1},g.div=function(e){var t=this,n=t.constructor,r=t.c,o=(e=new n(e)).c,i=t.s==e.s?1:-1,s=n.DP;if((s!==~~s||0>s||s>l)&&f("!Big.DP!"),!r[0]||!o[0])return r[0]==o[0]&&f(NaN),o[0]||f(i/0),new n(0*i);var c,a,p,h,v,w,d=o.slice(),g=c=o.length,m=r.length,y=r.slice(0,c),x=y.length,O=e,E=O.c=[],P=0,S=s+(O.e=t.e-e.e)+1;for(O.s=i,i=0>S?0:S,d.unshift(0);x++<c;y.push(0));do{for(p=0;10>p;p++){if(c!=(x=y.length))h=c>x?1:-1;else for(v=-1,h=0;++v<c;)if(o[v]!=y[v]){h=o[v]>y[v]?1:-1;break}if(!(0>h))break;for(a=x==c?o:d;x;){if(y[--x]<a[x]){for(v=x;v&&!y[--v];y[v]=9);--y[v],y[x]+=10}y[x]-=a[x]}for(;!y[0];y.shift());}E[P++]=h?p:++p,y[0]&&h?y[x]=r[g]||0:y=[r[g]]}while((g++<m||y[0]!==w)&&i--);return E[0]||1==P||(E.shift(),O.e--),P>S&&u(O,s,n.RM,y[0]!==w),O},g.eq=function(e){return!this.cmp(e)},g.gt=function(e){return this.cmp(e)>0},g.gte=function(e){return this.cmp(e)>-1},g.lt=function(e){return this.cmp(e)<0},g.lte=function(e){return this.cmp(e)<1},g.sub=g.minus=function(e){var t,n,r,o,i=this,s=i.constructor,c=i.s,u=(e=new s(e)).s;if(c!=u)return e.s=-u,i.plus(e);var f=i.c.slice(),a=i.e,p=e.c,h=e.e;if(!f[0]||!p[0])return p[0]?(e.s=-u,e):new s(f[0]?i:0);if(c=a-h){for((o=0>c)?(c=-c,r=f):(h=a,r=p),r.reverse(),u=c;u--;r.push(0));r.reverse()}else for(n=((o=f.length<p.length)?f:p).length,c=u=0;n>u;u++)if(f[u]!=p[u]){o=f[u]<p[u];break}if(o&&(r=f,f=p,p=r,e.s=-e.s),(u=(n=p.length)-(t=f.length))>0)for(;u--;f[t++]=0);for(u=t;n>c;){if(f[--n]<p[n]){for(t=n;t&&!f[--t];f[t]=9);--f[t],f[n]+=10}f[n]-=p[n]}for(;0===f[--u];f.pop());for(;0===f[0];)f.shift(),--h;return f[0]||(e.s=1,f=[h=0]),e.c=f,e.e=h,e},g.mod=function(e){var t,n=this,r=n.constructor,o=n.s,i=(e=new r(e)).s;return e.c[0]||f(NaN),n.s=e.s=1,t=1==e.cmp(n),n.s=o,e.s=i,t?new r(n):(o=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=o,r.RM=i,this.minus(n.times(e)))},g.add=g.plus=function(e){var t,n=this,r=n.constructor,o=n.s,i=(e=new r(e)).s;if(o!=i)return e.s=-i,n.minus(e);var s=n.e,c=n.c,u=e.e,f=e.c;if(!c[0]||!f[0])return f[0]?e:new r(c[0]?n:0*o);if(c=c.slice(),o=s-u){for(o>0?(u=s,t=f):(o=-o,t=c),t.reverse();o--;t.push(0));t.reverse()}for(c.length-f.length<0&&(t=f,f=c,c=t),o=f.length,i=0;o;)i=(c[--o]=c[o]+f[o]+i)/10|0,c[o]%=10;for(i&&(c.unshift(i),++u),o=c.length;0===c[--o];c.pop());return e.c=c,e.e=u,e},g.pow=function(e){var t=this,n=new t.constructor(1),r=n,o=0>e;for((e!==~~e||-v>e||e>v)&&f("!pow!"),e=o?-e:e;1&e&&(r=r.times(t)),e>>=1,e;)t=t.times(t);return o?n.div(r):r},g.round=function(e,t){var n=this,r=n.constructor;return null==e?e=0:(e!==~~e||0>e||e>l)&&f("!round!"),u(n=new r(n),e,null==t?r.RM:t),n},g.sqrt=function(){var e,t,n,r=this,o=r.constructor,i=r.c,s=r.s,c=r.e,a=new o("0.5");if(!i[0])return new o(r);0>s&&f(NaN),s=Math.sqrt(r.toString()),0===s||s===1/0?(e=i.join(""),e.length+c&1||(e+="0"),t=new o(Math.sqrt(e).toString()),t.e=((c+1)/2|0)-(0>c||1&c)):t=new o(s.toString()),s=t.e+(o.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,s).join("")!==t.c.slice(0,s).join(""));return u(t,o.DP-=4,o.RM),t},g.mul=g.times=function(e){var t,n=this,r=n.constructor,o=n.c,i=(e=new r(e)).c,s=o.length,c=i.length,u=n.e,f=e.e;if(e.s=n.s==e.s?1:-1,!o[0]||!i[0])return new r(0*e.s);for(e.e=u+f,c>s&&(t=o,o=i,i=t,f=s,s=c,c=f),t=new Array(f=s+c);f--;t[f]=0);for(u=c;u--;){for(c=0,f=s+u;f>u;)c=t[f]+i[u]*o[f-u-1]+c,t[f--]=c%10,c=c/10|0;t[f]=(t[f]+c)%10}for(c&&++e.e,t[0]||t.shift(),u=t.length;!t[--u];t.pop());return e.c=t,e},g.toString=g.valueOf=g.toJSON=function(){var e=this,t=e.constructor,n=e.e,r=e.c.join(""),o=r.length;if(n<=t.E_NEG||n>=t.E_POS)r=r.charAt(0)+(o>1?"."+r.slice(1):"")+(0>n?"e":"e+")+n;else if(0>n){for(;++n;r="0"+r);r="0."+r}else if(n>0)if(++n>o)for(n-=o;n--;r+="0");else o>n&&(r=r.slice(0,n)+"."+r.slice(n));else o>1&&(r=r.charAt(0)+"."+r.slice(1));return e.s<0&&e.c[0]?"-"+r:r},g.toExponential=function(e){return null==e?e=this.c.length-1:(e!==~~e||0>e||e>l)&&f("!toExp!"),s(this,e,1)},g.toFixed=function(e){var t,n=this,r=n.constructor,o=r.E_NEG,i=r.E_POS;return r.E_NEG=-(r.E_POS=1/0),null==e?t=n.toString():e===~~e&&e>=0&&l>=e&&(t=s(n,n.e+e),n.s<0&&n.c[0]&&t.indexOf("-")<0&&(t="-"+t)),r.E_NEG=o,r.E_POS=i,t||f("!toFix!"),t},g.toPrecision=function(e){return null==e?this.toString():((e!==~~e||1>e||e>l)&&f("!toPre!"),s(this,e-1,2))},a=i(),r=function(){return a}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)},function(e,t,n){function r(){}var o=n(6),i=n(8),s=n(9),c=n(10);r.prototype.create=function(e,t){switch(e){case"+":return new o(t);case"-":return new i(t);case"*":return new s(t);case"/":return new c(t);default:throw new Error("unknown operator ["+e+"]")}},e.exports=r},function(e,t,n){function r(e){this.precedence=1+(e||0)}var o=n(7),i=n(4);r.prototype=new o("+"),r.prototype.compute=function(e,t){var n=new i(e.value),r=new i(t.value),o=n.plus(r);return parseFloat(o)},e.exports=r},function(e,t,n){function r(e){this.value=e}var o=n(3);r.prototype=new o,e.exports=r},function(e,t,n){function r(e){this.precedence=1+(e||0)}var o=n(7),i=n(4);r.prototype=new o("-"),r.prototype.compute=function(e,t){var n=new i(e.value),r=new i(t.value),o=n.minus(r);return parseFloat(o)},e.exports=r},function(e,t,n){function r(e){this.precedence=2+(e||0)}var o=n(7),i=n(4);r.prototype=new o("*"),r.prototype.compute=function(e,t){var n=new i(e.value),r=new i(t.value),o=n.times(r);return parseFloat(o)},e.exports=r},function(e,t,n){function r(e){this.precedence=2+(e||0)}var o=n(7),i=n(4);r.prototype=new o("/"),r.prototype.compute=function(e,t){var n=new i(e.value),r=new i(t.value),o=n.div(r);return parseFloat(o)},e.exports=r},function(e,t,n){function r(){}var o=n(2);r.prototype.create=function(e){return new o(e)},e.exports=r},function(e,t,n){function r(e){this.parser=e}var o=(n(7),n(2),n(13),n(14));r.prototype.eval=function(e){if(!e)throw new Error;for(var t=new o(this.parser.parse(e)),n=t.findOperation();null!==n;){var r=n.compute();t.replaceOperation(n,r),n=t.findOperation()}return t.first().value},e.exports=r},function(e,t,n){function r(e,t,n){this.lOperand=e,this.op=t,this.rOperand=n}var o=n(2);r.prototype.compute=function(){return new o(this.op.compute(this.lOperand,this.rOperand))},e.exports=r},function(e,t,n){function r(e){this.elements=e}var o=n(7),i=n(13),s=n(2);r.prototype.findOperation=function(){var e=this.elements.filter(function(e){return e instanceof o});if(!e.length)return null;var t=Math.max.apply(Math,e.map(function(e){return e.precedence})),n=e.find(function(e){return e.precedence===t}),r=this.elements.indexOf(n);return new i(this.getOperand([r-1]),this.elements[r],this.getOperand([r+1]))},r.prototype.getOperand=function(e){return e>=0&&e<this.elements.length&&this.elements[e]instanceof s?this.elements[e]:new s(0)},r.prototype.replaceOperation=function(e,t){var n=this.elements.indexOf(e.op);this.getOperand(n+1)==e.rOperand&&this.elements.splice(n+1,1),this.elements[n]=t,this.getOperand(n-1)==e.lOperand&&this.elements.splice(n-1,1)},r.prototype.first=function(){return this.elements[0]},e.exports=r}])});
//# sourceMappingURL=matheval.map